@{
    ViewData["Title"] = "Subvi | Bill & Payments";

    // Retrieve the user's role from cookies
    string role = Context.Request.Cookies["UserRole"];

    // Declare controller
    string homeController = "";
    string calendarController = "";
    string facilitiesController = "";
    string billController = "";
    string servicesController = "";
    string forumsController = "";
    string feedbacksController = "";

    // Default action values
    string homeAction = "Landing";
    string calendarAction = "Calendar";
    string facilitiesAction = "Facilities";
    string billAction = "Bill";
    string servicesAction = "Services";
    string forumsAction = "Forums";
    string feedbacksAction = "Feedbacks";

    // Assign controllers/actions based on role
    if (role == "Admin")
    {
        homeController = "Admin"; homeAction = "Index";
        calendarController = "Admin"; calendarAction = "Calendar";
        facilitiesController = "Admin"; facilitiesAction = "Facilities";
        billController = "Admin"; billAction = "BillManagement";
        servicesController = "Admin"; servicesAction = "ServicesManagement";
        forumsController = "Admin"; forumsAction = "Forums";
        feedbacksController = "Admin"; feedbacksAction = "Feedbacks";
    }
    else if (role == "Homeowner")
    {
        homeController = "Home"; homeAction = "dashboard";
        calendarController = "Home"; calendarAction = "Calendar";
        facilitiesController = "Home"; facilitiesAction = "Facilities";
        billController = "Home"; billAction = "Bill";
        servicesController = "Home"; servicesAction = "Services";
        forumsController = "Home"; forumsAction = "Forums";
        feedbacksController = "Home"; feedbacksAction = "Feedbacks";
    }
    else if (role == "Staff")
    {
        homeController = "Staff"; homeAction = "Dashboard";
        calendarController = "Staff"; calendarAction = "Calendar";
        facilitiesController = "Staff"; facilitiesAction = "Facilities";
        billController = "Staff"; billAction = "Bill";
        servicesController = "Staff"; servicesAction = "Services";
        forumsController = "Staff"; forumsAction = "Forums";
        feedbacksController = "Staff"; feedbacksAction = "Feedbacks";
    }
}

<div class="flex flex-row overflow-hidden pt-4 flex-shrink-0">
    <!-- Sidebar -->
    <div class="bg-white rounded-tr-2xl z-50 rounded-br-2xl shadow-md w-56 py-6 h-screen">
        <ul class="space-y-4">
            <!-- Home (Dynamic) -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out"
                   asp-controller="@homeController" asp-action="@homeAction">
                    <i class="fas fa-home text-xl"></i>
                    <span class="font-semibold">Home</span>
                </a>
            </li>

            <!-- Calendar -->
            <li>
                <a class="flex items-center space-x-4 p-3 hover:bg-gray-100 sidebar-item transition ease-in-out rounded-l-full"
                   asp-controller="@calendarController" asp-action="@calendarAction">
                    <i class="fas fa-calendar-alt text-xl"></i>
                    <span class="font-semibold">Calendar</span>
                </a>
            </li>

            <!-- Facilities -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out"
                   asp-controller="@facilitiesController" asp-action="@facilitiesAction">
                    <i class="fas fa-building text-xl"></i>
                    <span class="font-semibold">Facilities</span>
                </a>
            </li>

            <!-- Bill Payment -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item active-item"
                   asp-controller="@billController" asp-action="@billAction">
                    <i class="fas fa-file-invoice-dollar text-xl"></i>
                    <span class="font-semibold">Bill Payment</span>
                </a>
            </li>

            <!-- Services -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out"
                   asp-controller="@servicesController" asp-action="@servicesAction">
                    <i class="fas fa-tools text-xl"></i>
                    <span class="font-semibold">Services</span>
                </a>
            </li>

            <!-- Forums -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out"
                   asp-controller="@forumsController" asp-action="@forumsAction">
                    <i class="fas fa-comments text-xl"></i>
                    <span class="font-semibold">Forums</span>
                </a>
            </li>

            <!-- Feedbacks -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out"
                   asp-controller="@feedbacksController" asp-action="@feedbacksAction">
                    <i class="fas fa-bullhorn text-xl"></i>
                    <span class="font-semibold">Feedbacks</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="flex-1 p-6">

        <div class="bg-gray-100 rounded-lg shadow-md p-6" style="height: 920px;">
            <!-- Header with Icon -->
            <div class="w3-container bg-gray-100 flex items-center mb-6">
                <!-- Icon with custom blue color -->
                <i class="fas fa-file-invoice-dollar text-2xl mr-3" style="color: #1E3A8A;"></i>
                <!-- Text -->
                <h1 class="text-2xl font-semibold" style="color: #1E3A8A; margin-left: 20px; font-size: 30px;"><b>Bills and Payment</b></h1>
            </div>



            <div class="flex w3-row">
                <!-- Container for Outstanding Bills Section (Left Side) -->
                <div class="w3-half w3-container" style="width: 800px;">
                    <div class="bg-gray-200 p-6 rounded-lg shadow-md" style="max-height: 500px; overflow-y: auto;">
                        <h2 class="text-2xl font-semibold mb-4" style="color: #1E3A8A; margin-left: 280px;"><b>Outstanding Bills</b></h2>

                        <!-- Security Maintenance Fee -->
                        <div class="bg-gray-100 p-4 rounded-lg mb-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="font-semibold">Security Maintenance Fee</h3>
                                    <br>
                                    <p class="font-semibold">Amount:</p>
                                    <p class="font-semibold" style="font-size: 40px; color: #0BB80B;">$1945.00</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-gray-600">Due Date: 2023-10-15</p>
                                    <button class="mt-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition ease-in-out">
                                        Pay Now
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="w3-half w3-container" style="width: 700px; margin-left: 30px;">
                    <div class="bg-gray-200 p-6 rounded-lg shadow-md" style="max-height: 500px; overflow-y: auto;">
                        <h2 class="text-xl font-semibold mb-4" style="color: #1E3A8A; margin-left: 280px;"><b>Payment History</b></h2>
                        <div class="bg-gray-100 p-4 rounded-lg mb-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="font-semibold">Security Maintenance Fee</h3>
                                    <p class="text-sm text-gray-600">Paid on: 2023-09-15</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-semibold">$1945.00</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>  