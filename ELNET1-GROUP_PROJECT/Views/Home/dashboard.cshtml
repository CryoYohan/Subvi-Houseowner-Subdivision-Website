@{
    ViewData["Title"] = "Subvi | Home";

    // Retrieve the user's role from cookies
    string role = Context.Request.Cookies["UserRole"];

    // Declare controller
    string homeController = "";
    string calendarController = "";
    string facilitiesController = "";
    string billController = "";
    string servicesController = "";
    string forumsController = "";
    string feedbacksController = "";

    // Default action values
    string homeAction = "Landing";
    string calendarAction = "Calendar";
    string facilitiesAction = "Facilities";
    string billAction = "Bill";
    string servicesAction = "Services";
    string forumsAction = "Forums";
    string feedbacksAction = "Feedbacks";

    // Assign controllers/actions based on role
    if (role == "Admin")
    {
        homeController = "admin"; homeAction = "Index";
        calendarController = "admin"; calendarAction = "Calendar";
        facilitiesController = "admin"; facilitiesAction = "Facilities";
        billController = "admin"; billAction = "BillManagement";
        servicesController = "admin"; servicesAction = "ServicesManagement";
        forumsController = "admin"; forumsAction = "Forums";
        feedbacksController = "admin"; feedbacksAction = "Feedbacks";
    }
    else if (role == "Homeowner")
    {
        homeController = "home"; homeAction = "dashboard";
        calendarController = "home"; calendarAction = "Calendar";
        facilitiesController = "home"; facilitiesAction = "Facilities";
        billController = "home"; billAction = "Bill";
        servicesController = "home"; servicesAction = "Services";
        forumsController = "home"; forumsAction = "Forums";
        feedbacksController = "home"; feedbacksAction = "Feedbacks";
    }
    else if (role == "Staff")
    {
        homeController = "staff"; homeAction = "Dashboard";
        calendarController = "staff"; calendarAction = "Calendar";
        facilitiesController = "staff"; facilitiesAction = "Facilities";
        billController = "staff"; billAction = "Bill";
        servicesController = "staff"; servicesAction = "Services";
        forumsController = "staff"; forumsAction = "Forums";
        feedbacksController = "staff"; feedbacksAction = "Feedbacks";
    }
}

@* Sidebar *@
<div class="flex flex-row overflow-hidden pt-4 gap-2 flex-shrink-0">
    <div class="bg-white rounded-tr-2xl z-50 rounded-br-2xl shadow-md w-56 py-6">
        <ul class="space-y-4">
             <!-- Home -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item active-item" asp-controller="@homeController" asp-action="@homeAction">
                    <i class="fas fa-home text-xl"></i>
                    <span class="font-semibold">Home</span>
                </a>
            </li>

            <!-- Calendar -->
            <li>
                <a class="flex items-center space-x-4 p-3 sidebar-item hover:bg-gray-100 transition ease-in-out rounded-l-full" asp-controller="@calendarController" asp-action="@calendarAction">
                    <i class="fas fa-calendar-alt text-xl"></i>
                    <span class="font-semibold">Calendar</span>
                </a>
            </li>

            <!-- Facilities -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out" asp-controller="@facilitiesController" asp-action="@facilitiesAction">
                    <i class="fas fa-building text-xl"></i>
                    <span class="font-semibold">Facilities</span>
                </a>
            </li>

            <!-- Bill Payment -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out" asp-controller="@billController" asp-action="@billAction">
                    <i class="fas fa-file-invoice-dollar text-xl"></i>
                    <span class="font-semibold">Bill Payment</span>
                </a>
            </li>

            <!-- Services -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out" asp-controller="@servicesController" asp-action="@servicesAction">
                    <i class="fas fa-tools text-xl"></i>
                    <span class="font-semibold">Services</span>
                </a>
            </li>

            <!-- Forums -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out" asp-controller="@forumsController" asp-action="@forumsAction">
                    <i class="fas fa-comments text-xl"></i>
                    <span class="font-semibold">Forums</span>
                </a>
            </li>

            <!-- Feedbacks -->
            <li>
                <a class="flex items-center space-x-4 p-3 rounded-l-full sidebar-item hover:bg-gray-100 transition ease-in-out" asp-controller="@feedbacksController" asp-action="@feedbacksAction">
                    <i class="fas fa-bullhorn text-xl"></i>
                    <span class="font-semibold">Feedbacks</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="bg-white shadow-md rounded-lg p-4 w-vw-3/4">
        <div class="flex space-x-6 text-blue-800 font-semibold border-b">
            <button class="pb-2 border-b-2 border-blue-800">Announcements</button>
            <button class="pb-2 hover:text-blue-500">Polls</button>
            <button class="pb-2 hover:text-blue-500">Surveys</button>
        </div>

        <!-- INSERT CODE HERE-->
        <div class="flex flex-grow gap-4 p-6">
            <!-- Announcements Card -->
            <div class="flex-1 bg-white shadow-md rounded-2xl p-6">
                <div class="border-b pb-2 mb-4 flex space-x-6">
                    <span class="text-lg font-semibold text-blue-600 border-b-2 border-blue-600 pb-1">Announcements</span>
                    <span class="text-lg text-gray-500">Polls</span>
                    <span class="text-lg text-gray-500">Surveys</span>
                </div>
                <!-- Card 1 -->
                <div class="bg-gray-100 p-4 rounded-lg shadow-sm mb-4">
                    <div class="flex items-center space-x-3 mb-2">
                        <img class="w-8 h-8 rounded-full" src="/images/profile/Ypil.jpg" alt="Admin">
                        <div>
                            <p class="text-sm font-semibold">Admin</p>
                            <p class="text-xs text-gray-500">Subdivision Owner</p>
                        </div>
                    </div>
                    <h3 class="text-lg font-semibold mb-2">Community Clean-Up Day This Saturday!</h3>
                    <p class="text-sm text-gray-600">
                        Join us this Saturday from 9 AM to 12 PM for a community clean-up event. Let's work together to keep our subdivision clean and beautiful. Gloves and trash bags will be provided. Refreshments will be served!
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="bg-gray-100 p-4 rounded-lg shadow-sm mb-4">
                    <div class="flex items-center space-x-3 mb-2">
                        <img class="w-8 h-8 rounded-full" src="/images/profile/Ypil.jpg" alt="Admin">
                        <div>
                            <p class="text-sm font-semibold">Admin</p>
                            <p class="text-xs text-gray-500">Subdivision Owner</p>
                        </div>
                    </div>
                    <h3 class="text-lg font-semibold mb-2">New Playground Now Open!</h3>
                    <p class="text-sm text-gray-600">
                        We're excited to announce that the new playground near the clubhouse is now open! Bring your kids and enjoy the new slides, swings, and climbing structures. Safety rules are posted, so please review them before use.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="bg-gray-100 p-4 rounded-lg shadow-sm mb-4">
                    <div class="flex items-center space-x-3 mb-2">
                        <img class="w-8 h-8 rounded-full" src="/images/profile/Ypil.jpg" alt="Admin">
                        <div>
                            <p class="text-sm font-semibold">Admin</p>
                            <p class="text-xs text-gray-500">Subdivision Owner</p>
                        </div>
                    </div>
                    <h3 class="text-lg font-semibold mb-2">Upcoming HOA Meeting: October 15th</h3>
                    <p class="text-sm text-gray-600">
                        The next HOA meeting will be held on October 15th at 7 PM in the clubhouse. Agenda items include budget review, security updates, and community events. Your attendance and input are highly encouraged!
                    </p>
                </div>
                <!-- Card 4 -->
                <div class="bg-gray-100 p-4 rounded-lg shadow-sm mb-4">
                    <div class="flex items-center space-x-3 mb-2">
                        <img class="w-8 h-8 rounded-full" src="/images/profile/Ypil.jpg" alt="Admin">
                        <div>
                            <p class="text-sm font-semibold">Admin</p>
                            <p class="text-xs text-gray-500">Subdivision Owner</p>
                        </div>
                    </div>
                    <h3 class="text-lg font-semibold mb-2">Holiday Decorating Contest!</h3>
                    <p class="text-sm text-gray-600">
                        Get ready for the annual Holiday Decorating Contest! Decorate your homes and compete for prizes in categories like "Most Festive," "Best Lights," and "Most Creative." Judging will take place on December 20th. Good luck!
                    </p>
                </div>
            </div>

            <!-- Container for Announcements and Calendar -->
            <div class="flex space-x-6 p-6">
                <!-- Announcements Card (Left Side) -->
                <div class="flex-1 bg-white shadow-md rounded-2xl p-6">
                    <div class="border-b pb-2 mb-4 flex space-x-6">
                        <span class="text-lg font-semibold text-blue-600 border-b-2 border-blue-600 pb-1">Announcements</span>
                        <span class="text-lg text-gray-500">Polls</span>
                        <span class="text-lg text-gray-500">Surveys</span>
                    </div>
                    <!-- Announcement Cards (Same as before) -->
                    <div class="bg-gray-100 p-4 rounded-lg shadow-sm mb-4">
                        <div class="flex items-center space-x-3 mb-2">
                            <img class="w-8 h-8 rounded-full" src="/images/profile/Ypil.jpg" alt="Admin">
                            <div>
                                <p class="text-sm font-semibold">Admin</p>
                                <p class="text-xs text-gray-500">Subdivision Owner</p>
                            </div>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Community Clean-Up Day This Saturday!</h3>
                        <p class="text-sm text-gray-600">
                            Join us this Saturday from 9 AM to 12 PM for a community clean-up event. Let's work together to keep our subdivision clean and beautiful. Gloves and trash bags will be provided. Refreshments will be served!
                        </p>
                    </div>
                    <!-- Add more announcement cards here -->
                </div>

                <!-- Calendar Card (Right Side) -->
                <div class="w-80 bg-white shadow-md rounded-2xl p-6">
                    <h3 class="text-lg font-semibold mb-4">Event Calendar</h3>
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <!-- Calendar Header -->
                        <div class="flex justify-between items-center mb-4">
                            <button class="text-gray-500 hover:text-blue-600">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                                </svg>
                            </button>
                            <span class="text-lg font-semibold">August 2025</span>
                            <button class="text-gray-500 hover:text-blue-600">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                </svg>
                            </button>
                        </div>
                        <!-- Calendar Grid -->
                        <div class="grid grid-cols-7 gap-2">
                            <!-- Weekdays -->
                            <div class="text-center text-sm text-gray-500 font-medium">Sun</div>
                            <div class="text-center text-sm text-gray-500 font-medium">Mon</div>
                            <div class="text-center text-sm text-gray-500 font-medium">Tue</div>
                            <div class="text-center text-sm text-gray-500 font-medium">Wed</div>
                            <div class="text-center text-sm text-gray-500 font-medium">Thu</div>
                            <div class="text-center text-sm text-gray-500 font-medium">Fri</div>
                            <div class="text-center text-sm text-gray-500 font-medium">Sat</div>
                            <!-- Dates -->
                            <!-- Empty days for August 2025 (starts on Friday) -->
                            <div class="text-center text-sm text-gray-400 py-2"></div>
                            <div class="text-center text-sm text-gray-400 py-2"></div>
                            <div class="text-center text-sm text-gray-400 py-2"></div>
                            <div class="text-center text-sm text-gray-400 py-2"></div>
                            <div class="text-center text-sm text-gray-400 py-2"></div>
                            <!-- August Dates -->
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">1</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">2</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">3</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">4</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">5</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">6</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">7</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">8</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">9</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">10</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">11</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">12</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">13</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">14</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">15</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">16</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">17</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">18</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">19</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">20</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">21</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">22</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">23</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">24</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">25</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">26</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">27</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">28</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">29</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">30</div>
                            <div class="text-center text-sm text-gray-700 py-2 hover:bg-blue-100 rounded-full cursor-pointer">31</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
